<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <link rel="stylesheet" href="css/bootstrap.css">
    <link rel="stylesheet" href="css/dl.css">
</head>
<body>
    <div id="myDl">
        <h1><a href="index.html"><img src="images/logo.png" alt="">这是logo</a></h1>
        <div id="delv">
            <div id="xinxi">
                <div class="dz">
                    <div id="theD">登录</div>
                    <div id="theZ">注册</div>
                </div>
                <!--客户填写信息部分-->
                <div id="cj">
                    <form action="dl.do" id="theForm">
                        <p><input type="text" name="myName" id="myName" placeholder="ID"></p>
                        <p><input type="password" name="myPwd" id="myPwd" placeholder="PWD"></p>
                        <p><button type="button" id="DZbtn" class="theDL">确认</button></p>
                    </form>
                </div>
            </div>
        </div>
    </div>
<script src="js/jQ.js"></script>
<script src="js/bootstrap.js"></script>
<script>
//点击登录对应显示框
$("#theD").click(function () {
    $("#cj").html("");
    $("#cj").append(`
        <form action="dl.do" id="theForm">
        <p><input type="text" name="myName" id="myName" placeholder="ID"></p>
        <p><input type="password" name="myPwd" id="myPwd" placeholder="PWD"></p>
        <p><button type="button" id="DZbtn" class="theDL">确认</button></p>
        </form>
    `)
});
//点击注册操作对应显示框
$("#theZ").click(function () {
    $("#cj").html("");
    $("#cj").append(`
        <form action="zc.do" id="theForm">
        <p><input type="text" name="myName" id="myName" placeholder="ID"></p>
        <p><input type="password" name="myPwd" id="myPwd" placeholder="PWD"></p>
        <p><input type="email" name="myEmail" id="myEmail" placeholder="EMAIL"></p>
        <p><input type="text" name="dHua" id="dHua" placeholder="dHua"></p>
        <p><button type="button" id="DZbtn" class="theZC">确认</button></p>
        </form>
    `)
});
//登录与注册点击确认按钮
$("#cj").on("click",".theDL",function () {
    //判断用户输入是否为空
    if($("#myName").val().trim()==""||$("#myPwd").val().trim()==""){
        alert("输入不能为空！")
    }else {
//        000
//        var myName = $("#myName").val();
//        var myPwd = $("#myPwd").val();
//        axc();
//        function axc() {
//            var xhr = new XMLHttpRequest();
//            xhr.open('post', "/dl.do", true);
//            xhr.onreadystatechange = function () {
//                if (xhr.status == 200 && xhr.readyState == 4) {
//                    var json = JSON.parse(xhr.responseText);
//                    console.log(json);
//                    suji = json;
//                }
//            };
//            xhr.setRequestHeader("Content-type", "application/x-www-form-urlencoded");
//            xhr.send(`myName=${myName}&myPwd=${myPwd}`);
//            console.log(`myName=${myName}&myPwd=${myPwd}`)
//        }
            //001
        var param=$("#theForm").serialize();//获取登录数据
        console.log(param);
        $.post("dl.do",param,function (data) {
            console.log(data)
        });
            //002
//    var myName=$("#myName").val();
//    var myPwd=$("#myPwd").val();
//        $.ajax({
//            method:'post',
//            url:"dl.do",
//            dataType:'json',
//            data:`myName:${myName}&myName:${myName}`,
//        });
    }
});
$("#cj").on("click",".theZC",function () {
    //判断用户输入是否为空
    if($("#myName").val().trim()==""||$("#myPwd").val().trim()==""||$("#myEmail").val().trim()==""||$("#dHua").val().trim()==""){
        alert("输入不能为空！")
    }else{
        var param=$("#theForm").serialize();//获取注册数据
        console.log(param);
        $.ajax("zc.do")
    }
})
</script>
</body>
</html>